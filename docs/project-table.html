<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Bio-Logging Data Standards Initiatives</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="project-table_files/libs/clipboard/clipboard.min.js"></script>
<script src="project-table_files/libs/quarto-html/quarto.js"></script>
<script src="project-table_files/libs/quarto-html/popper.min.js"></script>
<script src="project-table_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="project-table_files/libs/quarto-html/anchor.min.js"></script>
<link href="project-table_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="project-table_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="project-table_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="project-table_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="project-table_files/libs/bootstrap/bootstrap-c0367b04c37547644fece4185067e4a7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="project-table_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="project-table_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="project-table_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="project-table_files/libs/datatables-binding-0.33/datatables.js"></script>
<script src="project-table_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="project-table_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="project-table_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="project-table_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="project-table_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="project-table_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Bio-Logging Data Standards Initiatives</h1>
</div>



<div class="quarto-title-meta column-page">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-40bcdd57a59fcf765744" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-40bcdd57a59fcf765744">{"x":{"filter":"none","vertical":false,"caption":"<caption style=\"caption-side: top; text-align: left;\">IN PROGRESS: Community initiatives for harmonizing animal tracking and other bio-logging data and developing prototypes for global standards. Contact ibls.datastandards@gmail.com for more information.<\/caption>","data":[["AfriMove","Animal Tag Tools Project","Australia's IMOS Animal Tracking Facility","Biologging intelligent Platform","Biological Ubiquitous Network","COVID-19 Bio-logging Initiative","DTO-Bio flow (Integration of Biodiversity monitoring data into the Digital Twin of the Ocean), DTO-Track (Digital Twin of the Ocean: Animal tracking), European Tracking Network (ETN)","Euromammals","European Tracking Network (ETN)","Global Wader","IOS4DOM","Large, heterogeneous, high-resolution bio-logging datasets informing conservation: new challenges and opportunities for data standardization and analysis.","Motus Wildlife Tracking System","Movebank","Movebank Attribute Dictionary","Movement ecology of Arctic phocids in Alaska","movepub R package","OBIS SEAMAP","Ocean Tracking Network","Pangeo: A community platform for Big Data geoscience","Reporting standards to promote animal welfare and data quality in biologging research","Seabird Tracking Database","SEATRACK - seabird tracking","Sweden's Wireless Remote Animal Monitoring e-infrastructure","Systematic review of open biologging data","The Shorebird Science and Conservation Collective","U.S. Animal Telemetry Network","Unique Animal IDs","Visualizing Life in the Deep","ZoaTrack"],["Okavango Research Institute, University of Botswana","University of Michigan, Calvin University","University of Tasmania","University of Tokyo","Druid Technology","International Bio-Logging Society","European Tracking Network (ETN), Flanders Marine Institute (VLIZ), Research Institute for Nature and Forest (INBO), and many others.","Fondazione Edmund Mach","Flanders Marine Institute (VLIZ), Ostend, Belgium","International Wader Study Group, University of Iceland","University of Valencia","Laboratoire L3i, Pôle Sciences et Technologie, Equipe Prédateurs Marins / Marine Predators Team, Centre d’Etudes Biologiques de Chizé (CEBC), CNRS-La Rochelle Université","Birds Canada","Max Planck Institute of Animal Behavior","Max Planck Institute of Animal Behavior","NOAA Fisheries, USA","Research Institute for Nature and Forest (INBO)","Duke University, Marine Geospatial Ecology Lab","Ocean Tracking Network (OTN)","Pangeo","University of California, Santa Cruz","BirdLife International","Norwegian Polar Institute, Norwegian Institute of Nature Research","Swedish University of Agricultural Sciences, Department of Wildlife, Fish, and Environmental Studies","none","The Shorebird Science and Conservation Collective, Smithsonian Migratory Bird Center","U.S. Integrated Ocean Observing System","Max Planck Institute of Animal Behavior","Scripps Institution of Oceanography, University of California San Diego","Atlas of Living Australia (ALA)"],["Emily Bennitt","Stacy DeRuiter",null,"Katsufumi Sato","Lin Yan and Guozheng Li","Federico Ossi","Claudia Meneses Moreno","Francesca Cagnacci","Lotte Pohl","José Alves","David March","Marianna Chimienti","Stuart Mackenzie and Catherine Jardine","Sarah Davidson","Sarah Davidson","Josh London","Peter Desmet",null,"Robert Lennox","Tina Odaka","Allison Payne",null,"Benjamin Merkel","Petter Lundberg","Max Czapanskiy","Allie Anderson (Quantitative Ecologist) and Autumn-Lynn Harrison (PI)","Megan McKinzie","Martin Wiskelski","Jessica Kendall-Bar","Peggy Newman, Peter Brenton"],[null,null,null,null,null,null,null,"francesca.cagnacci at fmach.it",null,null,null,null,null,"sdavidson at ab.mpg.de","sdavidson at ab.mpg.de",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["AfriMove is a collaborative database and network for GPS tracking data and associated information collected from animals in Africa, based on the EuroMammals framework. We aim to bring together people and data to allow large scale analyses and collaborations with conservation outcomes.","The Animal Tag Tools project is an Open Source set of standardized software tools written for Matlab, GNU Octave and R, to aid the processing, visualization and statistical analysis of tag data that aims to increase the output and reliability of studies involving high resolution tags.","Australia's Integrated Marine Observing System (IMOS) Ocean Data Network includes data collections for Acoustic Telemetry, which uses a continental-scale array of strategically placed underwater acoustic receivers and a central data repository to monitor and track broad-scale movements of tagged animals, and Animal Tagging, which deploys satellite-relayed transmitters equipped with miniaturised oceanographic sensors on marine species (i.e. seals, and sea turtles ) to collect behavioural (movements, dive behaviour) and physical (depth, temperature and salinity) data.","Using a fund from \"Application of big data of marine life (program manager Tom Akamatsu)\" by the Ministry of Education, Culture, Sports, Science and Technology, Japan, we have established a new biologging data base \"Biologging intelligent Platform\". There are several biologging databases in the world, a few data are uploaded from Japanese scientists. Japanese researchers have developed a variety of data loggers to measure not only position data but also various parameters such as depth, temperature, velocity, acceleration, and geomagnetism. Most existing biologging databases specialized for location data. It was difficult to upload such diverse time series data. It might be a reason why Japanese researchers hesitate to upload their data to the existing databases. To solve this situation, the BiP was developed. An important feature of BiP is the ability to store a variety of data in a standard format.","Comprehensive digitalization of the animal and environment becomes more and more important for scientific society and sustainable development of the world. Establishment of an ubiquitous network for transmitting the multidimensional data of animals, such as location, surrounding environment, behaviour, audio, and video etc., can facilitate the efficiency of data acquisition. Despite existing cellular networks and developing satellite networks, a natural network is the people's engagement with their smartphones. Please visit www.druid.tech and www.intelinkgo.com for more information.","The COVID 19 Bio-logging Initiative was initiated in early 2020 during the first phases of the pandemic. A restricted group of scientists, all members of the International Bio-logging Society, set up the Initiative to collect data from the whole globe in order to evaluate the response of wildlife to the so called ‚ÄòAnthropause‚Äô (a term which was invented by the same group of scientists and published in a Science paper in 2020). Since then, more than 500 people joined the Initiative, the most of which providing access to their bio-logging data (mostly GPS). Within the Initiative, several sub-projects have been identified and taken over by 1-2 leaders who are members of the Steering Committee. Since 2022, the Initiative has been funded by the Moore Foundation, which gave the possibility to hire three postdocs working full time on the topics. From a practical perspective, there is not a proper database with all collected and cleaned datasets. However, there is a dataset with links to the data provided by data owners, divided by species and region, so querying the areas of interest is relatively easy. Targeted databases have been then created by the data analysts of the sub-projects. There is a Steering Committee formed by ca. 15 scientists. The Chair is Christian Rutz. Federico Ossi is the person in charge of communication. Others have different roles, spanning from leading subprojects to helping with data curation.","DTO-BioFlow will target the current challenges in the collection, harmonisation, accessibility, and analysis of marine biodiversity relevant data, the integration of these data and analytical tools into DTO architectures, and the applicability of a functioning DTO biodiversity component to address policy-relevant use cases.","EuroMammals is a 15 yrs old bottom-up collaborative project on spatial ecology of European terrestrial mammals. See euromammals.org","The European Tracking Network is a pan-European network uniting researchers working (primarily) on acoustic telemetry, providing e.g. a database and working towards compatibility of research equipment.","Global Wader is a new, community-led initiative aiming to provide a definitive register of all wader/shorebird tracking projects currently underway or completed. The project has three main purposes: (1) maintain an up-to-date register of all wader tracking projects currently undertaken; (2) encourage best practices in the long-term storage of tracking data, including the use of specialist repositories via a partnership with Movebank; (3) facilitate collaborations between trackers, scientists and conservationists, including promoting open access to data, and facilitating data-sharing where appropriate, particularly for efforts towards the conservation of these species.","The Integrated ocean observing systems for dynamic ocean management (IOS4DOM) integrative research project aims at monitoring marine megafauna by combining recent advances in quantitative methods (e.g. machine learning, movement analysis) with new molecular (DNA metabarcoding), and technological developments (underwater drones, earth observations, bio-logging).","High-resolution bio-logging data (e.g. accelerometer and video data) have been collected worldwide across species and ecosystems. The resulting datasets can provide powerful detailed information on species behavioral adaptability in response to climate variation and inform conservation (see for example Chimienti et al. 2022). Yet, we are lacking data standardization and data sharing practice to be able to further develop analytical tools able to process data across species and ecosystems, as well as promote interoperability and collaborations between scientists across disciplines (e.g. theoretical and applied ecology, engineer, computer science and data science).","The Motus Wildlife Tracking System (Motus) is an international collaborative research network that uses coordinated automated radio telemetry to facilitate research and education on the ecology and conservation of migratory animals. Motus is a program of Birds Canada in partnership with collaborating researchers and organizations.","Movebank is an online platform helping thousands of researchers and wildlife managers worldwide to manage, share, analyze and archive animal tracking and other animal-borne sensor data. The platform includes a suite of tools and services leveraging a shared database. Data owners harmonize incoming data from live feeds and archived files, add contextual metadata, and  and to support public exploration and automation of downstream processes that access data. Owners choose whether and with whom to share their data: Movebank offers a formal archiving service that issues DOIs and also supports secure sharing of restricted data.","The attributes used in Movebank are available as a persistent, machine-readable vocabulary, hosted on the British Oceanographic Data Centre‚Äôs Natural Environment Research Council NERC Vocabulary Server at vocab.nerc.ac.uk/collection/MVB. The vocabulary has been built over time with input from hundreds of researchers and tag manufacturers, is used by initiatives, software packages and tag providers to offer consistent, transparent data reading, processing and storage.","Research focuses on movement ecology and dive/haul-out behavior of Arctic seals in Alaska through the use of biologgers and novel quantitative methods. My interest in data standards focuses on the benefits to development of software and analytical tools (R packages e.g. animotum, crawl, pathroutr) and meeting government and community standards for data sharing and reproducibility in support of open science","As part of the project \"MOVE2GBIF: Mobilizing animal GPS tracking data to Movebank and GBIF\", we developed reproducible protocols to transform data from UvA-BiTS GPS trackers to Movebank format, create Frictionless Data Package from Movebank data, and transform Movebank format data to Darwin Core and Ecological Metadata Language. The approach and first datasets published using the format are summarized in van der Kolk et al. (2022, https://doi.org/10.3897/zookeys.1123.90623).",null,"The Ocean Tracking Network (OTN) is a global aquatic research, data management and partnership platform headquartered at Dalhousie University in Halifax, Nova Scotia, Canada. OTN‚Äôs mission is to inform the stewardship and sustainable management of aquatic animals by providing knowledge on their movements, habitats and survival in the face of changing global environments.","A community platform of resources for Pangeo.","We have described a minimum reporting standard for instrument characteristics to facilitate future meta-analyses on the impacts of biologging instruments on animal welfare and data quality.","The BirdLife International Seabird Tracking Database is a central store for seabird tracking data from around the world and aims to help further seabird conservation work and support the tracking community.","SEATRACK aims to map the non-breeding distribution of seabirds breeding in colonies encircling the North Atlantic. We mainly use geolocators and have developed a standardised data procedure and a centralised database to ensure data integrity and traceability. Further, the project builds on an agreement of understanding between all partners as well as a science plan and a data request form.","WRAM ‚Äì Wireless Remote Animal Monitoring ‚Äì a national infrastructure for biologging, designed to facilitate bio-logging data capture, storage and visualisation. WRAM is one of the pillars of SBDI ‚Äì the Swedish Biodiversity Data Infrastructure. SBDI is Sweden‚Äôs largest freely available biodiversity database, bringing in data from various national sources. SBDI is the Swedish node of GBIF. Within SBDI there is a collaboration between WRAM and CAnMove (Lund University) to develop a common database with a common biologging data standard aimed to be general to be able to encompass data from any sensor type. Our biologging sensor data model is documented here: https://github.com/biodiversitydata-se/biologging-sensor-datamodel. The SBDI Biologging data portal (with a first view datasets) is found here: https://biologging.biodiversitydata.se/","How many species have we tracked with biologists? What‚Äôs the relative frequency of sensors we use? Most importantly, where do data end up after publication? These foundational questions are currently unanswerable, due to inconsistent publishing practices in our field. We are conducting a systematic review of biologging studies published 2007-2023 to create the first ever biologging bibliometric database. This work will establish a baseline for the state of open biologging data. Future work by this working group and other efforts will be able to use our database to test the effectiveness of their interventions.","The Shorebird Science and Conservation Collective brings together the knowledge of agencies, universities, nonprofits, and community scientists to advance shorebird conservation in the Western Hemisphere through the sharing of shorebird tracking data. To-date, over 6.7 million locations from >3,000 individual tracked shorebirds of 36 species have been shared by over 70 organisations, cleaned, and integrated into a central resource to inform on-the-ground conservation projects. A detailed description of the Shorebird Collective and its work in the first three years can be found at: https://www.biorxiv.org/content/10.1101/2024.01.30.576574v1","Operating under NOAA‚Äôs Integrated Ocean Observing System (IOOS), the multi-agency U.S. Animal Telemetry Network was developed in 2016 to provide unity, stability and continuity to the national infrastructure that facilitates the collection, management, standarization and availability of marine animal telemetry data derived through satellite, archival and acoustic tags and seeks to promote the integration of these data into our nation's ocean observing system cabapilities.","Researchers are monitoring more animals for longer and collecting a range of multi-media information about individuals throughout their lives. In addition to the sensor recordings themselves, information can come from photographs, text messages and news articles. Further, as more projects are shared and archived, we see a need to be able to recognize individuals across datasets to enable future efforts to bring together data globally. To address these challenges, we have launched the Movebank Life History Museum (MoMu) and Unique Animal Identifier (UAID) system to store accessory files related to tracked wildlife and assign persistent and unique identifiers for animals. We invite all to participate in beta testing of these new tools.","We offer nascent current efforts to transform a series of bespoke animation tools (Kendall-Bar et al., 2021, https://doi.org/10.1109/VISAP52981.2021.00007) into a web browser tool for biologging scientists to better visualize multimodal (diving + GPS + physiology + behavioral) data, automate behavioral labeling, review model performance, and generate insights. This project would greatly benefit from a shared ontology and the implementation of data standards for higher resolution diving and physiology data (not just tracking data) such as databases and APIs like the one we have implemented for our app.","ZoaTrack is a platform developed in Australia for managing and visualizing GPS animal tracking data."],["<a href=\"https://euromammals.org/afrimove/\">https://euromammals.org/afrimove/<\/a>","<a href=\"https://animaltags.org/\">https://animaltags.org/<\/a>","<a href=\"https://imos.org.au/facility/animal-tracking\">https://imos.org.au/facility/animal-tracking<\/a>","<a href=\"https://www.bip-earth.com/\">https://www.bip-earth.com/<\/a>","<a href=\"https://www.druid.tech\">https://www.druid.tech<\/a>","<a href=\"https://bio-logging.net/wg/covid19-biologging\">https://bio-logging.net/wg/covid19-biologging<\/a>",null,"<a href=\"https://euromammals.org/\">https://euromammals.org/<\/a>","<a href=\"https://europeantrackingnetwork.org\">https://europeantrackingnetwork.org<\/a>","<a href=\"https://www.globalwader.org\">https://www.globalwader.org<\/a>",null,null,"<a href=\"https://motus.org\">https://motus.org<\/a>","<a href=\"https://www.movebank.org\">https://www.movebank.org<\/a>","<a href=\"https://vocab.nerc.ac.uk/collection/MVB\">https://vocab.nerc.ac.uk/collection/MVB<\/a>",null,"<a href=\"https://github.com/inbo/movepub\">https://github.com/inbo/movepub<\/a>","<a href=\"https://seamap.env.duke.edu\">https://seamap.env.duke.edu<\/a>","<a href=\"https://oceantrackingnetwork.org\">https://oceantrackingnetwork.org<\/a>","<a href=\"https://discourse.pangeo.io\">https://discourse.pangeo.io<\/a>","<a href=\"https://doi.org/10.32942/X29K7X\">https://doi.org/10.32942/X29K7X<\/a>","<a href=\"https://data.seabirdtracking.org\">https://data.seabirdtracking.org<\/a>",null,"<a href=\"https://wram.slu.se\">https://wram.slu.se<\/a>","<a href=\"https://flukeandfeather.github.io/openbiologging\">https://flukeandfeather.github.io/openbiologging<\/a>",null,"<a href=\"https://atn.ioos.us\">https://atn.ioos.us<\/a>","<a href=\"https://animaltracker.app\">https://animaltracker.app<\/a>","<a href=\"https://github.com/jmkendallbar/VisualizingLifeintheDeep\">https://github.com/jmkendallbar/VisualizingLifeintheDeep<\/a>","<a href=\"https://zoatrack.org/projects\">https://zoatrack.org/projects<\/a>"],["collaborative initiative","analysis tool","data platform","data platform",null,"collaborative initiative","research project","data platform","data platform","collaborative initiative","research project",null,"data platform","data platform","data vocabulary","research project","analysis tool","data platform","data platform","training and networking","reporting standard","data platform","collaborative initiative","data platform","research project","collaborative initiative","data platform","data platform","analysis tool","data platform"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Project<\/th>\n      <th>Lead organization<\/th>\n      <th>Contact Name<\/th>\n      <th>Contact Email<\/th>\n      <th>Description<\/th>\n      <th>Website<\/th>\n      <th>Tags<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"columnDefs":[{"name":"Project","targets":0},{"name":"Lead organization","targets":1},{"name":"Contact Name","targets":2},{"name":"Contact Email","targets":3},{"name":"Description","targets":4},{"name":"Website","targets":5},{"name":"Tags","targets":6}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>